--TAKEN INSERT FOR 10 Students students 10, 11, 12 have completed all the courses

--Taken Classes For Student_ID 1 NOTE HE Has taken all available classes
INSERT INTO Taken (Student_ID, Section_ID, Semester, Year, Course_ID)
Values
	(10, 1, 'Fall', 2010, 'CMPT 101' ),
	(10, 2, 'Fall', 2010, 'MATH 101' ),
	(10, 1, 'Fall', 2010, 'ECON 101' ),
	(10, 2, 'Fall', 2010, 'PSYCH 101'),
	(10, 1, 'Fall', 2010, 'BUSN 101' ),
	(10, 1, 'Winter', 2010, 'ACCT 101' ),
	(10, 2, 'Winter', 2010, 'ENGL 101' ),
	(10, 1, 'Winter', 2010, 'POLS 101' ),
	(10, 2, 'Winter', 2010, 'CMPT 201' ),
	(10, 1, 'Winter', 2010, 'MATH 201' ),
	(10, 1, 'Fall', 2011, 'CMPT 301' ),
	(10, 2, 'Fall', 2011, 'MATH 301' ),
	(10, 1, 'Fall', 2011, 'ECON 201' ),
	(10, 2, 'Fall', 2011, 'PSYCH 201'),
	(10, 1, 'Fall', 2011, 'BUSN 201' ),
	(10, 1, 'Winter', 2011, 'ACCT 201' ),
	(10, 2, 'Winter', 2011, 'ENGL 201' ),
	(10, 1, 'Winter', 2011, 'POLS 201' ),
	(10, 2, 'Winter', 2011, 'PSYCH 301'),
	(10, 1, 'Winter', 2011, 'BUSN 301' ),
	(10, 1, 'Fall', 2012, 'ACCT 301' ),
	(10, 2, 'Fall', 2012, 'ENGL 301' ),
	(10, 1, 'Fall', 2012, 'ECON 301' ),
	(10, 2, 'Fall', 2012, 'PSYCH 401'),
	(10, 1, 'Fall', 2012, 'BUSN 401' ),
	(10, 1, 'Winter', 2012, 'ACCT 401' ),
	(10, 2, 'Winter', 2012, 'ENGL 401' ),
	(10, 1, 'Winter', 2012, 'POLS 301' ),
	(10, 2, 'Winter', 2012, 'CMPT 401' ),
	(10, 1, 'Winter', 2012, 'MATH 401' ),
	(10, 2, 'Fall', 2013, 'ECON 401' ),
	(10, 1, 'Fall', 2013, 'POLS 401' );
--Taken Classes For Student_ID 2 NOTE She Has taken all available classes
INSERT INTO Taken (Student_ID, Section_ID, Semester, Year, Course_ID)
Values
	(11, 1, 'Fall', 2010, 'CMPT 101' ),
	(11, 2, 'Fall', 2010, 'MATH 101' ),
	(11, 1, 'Fall', 2010, 'ECON 101' ),
	(11, 2, 'Fall', 2010, 'PSYCH 101'),
	(11, 1, 'Fall', 2010, 'BUSN 101' ),
	(11, 1, 'Winter', 2010, 'ACCT 101' ),
	(11, 2, 'Winter', 2010, 'ENGL 101' ),
	(11, 1, 'Winter', 2010, 'POLS 101' ),
	(11, 2, 'Winter', 2010, 'CMPT 201' ),
	(11, 1, 'Winter', 2010, 'MATH 201' ),
	(11, 1, 'Fall', 2011, 'CMPT 301' ),
	(11, 2, 'Fall', 2011, 'MATH 301' ),
	(11, 1, 'Fall', 2011, 'ECON 201' ),
	(11, 2, 'Fall', 2011, 'PSYCH 201'),
	(11, 1, 'Fall', 2011, 'BUSN 201' ),
	(11, 1, 'Winter', 2011, 'ACCT 201' ),
	(11, 2, 'Winter', 2011, 'ENGL 201' ),
	(11, 1, 'Winter', 2011, 'POLS 201' ),
	(11, 2, 'Winter', 2011, 'PSYCH 301'),
	(11, 1, 'Winter', 2011, 'BUSN 301' ),
	(11, 1, 'Fall', 2012, 'ACCT 301' ),
	(11, 2, 'Fall', 2012, 'ENGL 301' ),
	(11, 1, 'Fall', 2012, 'ECON 301' ),
	(11, 2, 'Fall', 2012, 'PSYCH 401'),
	(11, 1, 'Fall', 2012, 'BUSN 401' ),
	(11, 1, 'Winter', 2012, 'ACCT 401' ),
	(11, 2, 'Winter', 2012, 'ENGL 401' ),
	(11, 1, 'Winter', 2012, 'POLS 301' ),
	(11, 2, 'Winter', 2012, 'CMPT 401' ),
	(11, 1, 'Winter', 2012, 'MATH 401' ),
	(11, 2, 'Fall', 2013, 'ECON 401' ),
	(11, 1, 'Fall', 2013, 'POLS 401' );
--Taken Classes For Student_ID 3 NOTE He Has taken all available classes
INSERT INTO Taken (Student_ID, Section_ID, Semester, Year, Course_ID)
Values
	(12, 1, 'Fall', 2010, 'CMPT 101' ),
	(12, 2, 'Fall', 2010, 'MATH 101' ),
	(12, 1, 'Fall', 2010, 'ECON 101' ),
	(12, 2, 'Fall', 2010, 'PSYCH 101'),
	(12, 1, 'Fall', 2010, 'BUSN 101' ),
	(12, 1, 'Winter', 2010, 'ACCT 101' ),
	(12, 2, 'Winter', 2010, 'ENGL 101' ),
	(12, 1, 'Winter', 2010, 'POLS 101' ),
	(12, 2, 'Winter', 2010, 'CMPT 201' ),
	(12, 1, 'Winter', 2010, 'MATH 201' ),
	(12, 1, 'Fall', 2011, 'CMPT 301' ),
	(12, 2, 'Fall', 2011, 'MATH 301' ),
	(12, 1, 'Fall', 2011, 'ECON 201' ),
	(12, 2, 'Fall', 2011, 'PSYCH 201'),
	(12, 1, 'Fall', 2011, 'BUSN 201' ),
	(12, 1, 'Winter', 2011, 'ACCT 201' ),
	(12, 2, 'Winter', 2011, 'ENGL 201' ),
	(12, 1, 'Winter', 2011, 'POLS 201' ),
	(12, 2, 'Winter', 2011, 'PSYCH 301'),
	(12, 1, 'Winter', 2011, 'BUSN 301' ),
	(12, 1, 'Fall', 2012, 'ACCT 301' ),
	(12, 2, 'Fall', 2012, 'ENGL 301' ),
	(12, 1, 'Fall', 2012, 'ECON 301' ),
	(12, 2, 'Fall', 2012, 'PSYCH 401'),
	(12, 1, 'Fall', 2012, 'BUSN 401' ),
	(12, 1, 'Winter', 2012, 'ACCT 401' ),
	(12, 2, 'Winter', 2012, 'ENGL 401' ),
	(12, 1, 'Winter', 2012, 'POLS 301' ),
	(12, 2, 'Winter', 2012, 'CMPT 401' ),
	(12, 1, 'Winter', 2012, 'MATH 401' ),
	(12, 2, 'Fall', 2013, 'ECON 401' ),
	(12, 1, 'Fall', 2013, 'POLS 401' );


-- Updates enrolled value for Taken table after inserts
UPDATE Section
    SET Enrolled = (
        select COUNT(*)
        from Taken t2
        Where Section.Section_ID = t2.Section_ID and Section.Semester = t2.Semester and Section.Year = t2.Year and Section.Course_ID = t2.Course_ID
        GROUP BY Section_ID, Semester, Year, Course_ID);

UPDATE Section
    SET ENROLLED = 0
    Where Enrolled IS NULL;